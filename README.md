# Custom sw-precache-plugin configuration with CRA

This depository is a demo on how to update your sw-precache-plugin without ejecting of CRA.

## Why?

There's no real way to configure the service-worker generated by CRA, for example, if you want to add notifications to your app, go for another strategy than offline-first,...

## How to

### 1. Install and configure react-app-rewired

Can be found [here](https://github.com/timarney/react-app-rewired).

### 2. Overwrite any proprety you want using this simple snippet:

```JavaScript
const isPrecachePlugin = plugin => plugin.options && plugin.options.filename === 'service-worker.js';

module.exports = function override(config, env){

  let precachePlugin = config.plugins.find(isPrecachePlugin);
  /** overwrite any property you want on the sw-precache-plugin **/
  precachePlugin.options.minify = true;

  return config;
}
```

### 3. Build as usual :-)

Now just run yarn
